<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Game of the Week | Ryan Retro</title>
    
    <!-- Libraries -->
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
    <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/feather-icons/dist/feather.min.js"></script>
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
    
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Press+Start+2P&family=Roboto:wght@400;700;900&display=swap');
        
        :root {
            /* LIGHT MODE (Default) - GAMEBOY CARTRIDGE COLORS */
            --gb-grey: #e0e0e0;
            --gb-dark-grey: #c4c4c4;
            --gb-shadow: #9e9e9e;
            --gb-highlight: #ffffff;
            --gb-accent: #6b7280;
            
            --bg-body: #f0f0f0;
            --bg-panel: #e5e7eb; /* gray-200 */
            --text-main: #111827;
            --text-muted: #4b5563;
            --border-color: #000000;
        }

        /* DARK MODE VARIABLES */
        body.dark-mode {
            --gb-grey: #4b5563;         /* Gray 600 - Lighter face for contrast */
            --gb-dark-grey: #111827;    /* Gray 900 - Dark sides/thickness */
            --gb-shadow: #000000;       /* Deep shadow */
            --gb-highlight: rgba(255,255,255,0.15); /* Sharp edge highlight */
            --gb-accent: #9ca3af;
            
            --bg-body: #111827;         /* Very dark background for page */
            --bg-panel: #1f2937;        
            --text-main: #d1d5db;       /* Light text */
            --text-muted: #9ca3af;
            --border-color: #000000;   
        }

        /* Base Styles */
        body { 
            font-family: 'Roboto', sans-serif; 
            background-color: var(--bg-body);
            color: var(--text-main);
            transition: background-color 0.3s, color 0.3s;
        }
        .retro-font { font-family: 'Press Start 2P', cursive; }
        
        /* UI Elements */
        .pixel-border {
            border: 4px solid #000;
            box-shadow: 8px 8px 0 rgba(0,0,0,0.3);
        }
        
        .pixel-btn {
            transition: all 0.2s ease;
        }
        .pixel-btn:hover {
            transform: translate(2px, 2px);
            box-shadow: 4px 4px 0 rgba(0,0,0,0.3);
        }

        .bg-overlay {
            position: fixed;
            top: 0; left: 0; right: 0; bottom: 0;
            background: radial-gradient(circle at center, rgba(0,0,0,0) 0%, rgba(0,0,0,0.1) 100%);
            pointer-events: none;
            z-index: -1;
        }

        /* DARK MODE OVERRIDES */
        body.dark-mode header,
        body.dark-mode footer {
            background-color: var(--gb-grey) !important;
            border-color: var(--gb-dark-grey) !important;
        }
        
        body.dark-mode h1, 
        body.dark-mode h2, 
        body.dark-mode h3 {
            color: #fff !important;
        }
        body.dark-mode .text-gray-800 { color: #fff !important; }
        body.dark-mode .text-gray-500 { color: #9ca3af !important; }
        body.dark-mode p { color: #d1d5db !important; }

        body.dark-mode .bg-gray-100 {
            background-color: #1f2937 !important;
            color: #fff !important;
        }
        
        /* Nav Menu Dark Mode */
        body.dark-mode #navBox {
            background-color: #374151 !important;
            border-color: #1f2937 !important;
        }
        body.dark-mode .nav-item {
            background-color: #1f2937 !important;
            color: #fff !important;
            border-color: transparent;
        }
        body.dark-mode .nav-item:hover {
            background-color: #dc2626 !important;
            color: #fff !important;
            border-color: #000 !important;
        }
        /* Active nav item override for dark mode */
        body.dark-mode .nav-item.bg-red-600 {
            background-color: #dc2626 !important;
            border-color: #000 !important;
        }

        /* Hero & Content Styles (From Original Page) */
        .hero-header {
            background: #111827;
            position: relative;
        }
        
        /* CRT Scanline effect */
        .scanlines {
            position: relative;
            overflow: hidden;
        }
        .scanlines::after {
            content: " ";
            display: block;
            position: absolute;
            top: 0; left: 0; bottom: 0; right: 0;
            background: linear-gradient(rgba(18, 16, 16, 0) 50%, rgba(0, 0, 0, 0.25) 50%), linear-gradient(90deg, rgba(255, 0, 0, 0.06), rgba(0, 255, 0, 0.02), rgba(0, 0, 255, 0.06));
            z-index: 2;
            background-size: 100% 2px, 3px 100%;
            pointer-events: none;
        }
        
        /* Flip Button Styles */
        .flip-container {
            perspective: 1000px;
            width: 100%;
            height: 40px; 
            margin-top: auto;
        }
        .flip-inner {
            position: relative;
            width: 100%;
            height: 100%;
            transition: transform 0.6s;
            transform-style: preserve-3d;
            cursor: pointer;
        }
        .flip-container.flipped .flip-inner {
            transform: rotateX(180deg);
        }
        .flip-front, .flip-back {
            position: absolute;
            width: 100%;
            height: 100%;
            backface-visibility: hidden;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 0.25rem; 
        }
        .flip-front { z-index: 2; }
        .flip-back {
            transform: rotateX(180deg);
            background-color: #dc2626; 
            color: white;
            font-size: 0.65rem; 
            border: 1px solid #991b1b;
        }

        /* Carousel Styles */
        .carousel-container {
            position: relative;
            width: 100%;
            height: 100%;
            overflow: hidden;
        }
        .carousel-slide {
            display: none;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 100%;
            animation: fadeIn 0.5s;
        }
        .carousel-slide.active {
            display: flex;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: scale(0.95); }
            to { opacity: 1; transform: scale(1); }
        }

        /* Custom Scrollbar for Modal */
        .modal-scroll::-webkit-scrollbar { width: 8px; }
        .modal-scroll::-webkit-scrollbar-track { background: #111827; border-radius: 4px; }
        .modal-scroll::-webkit-scrollbar-thumb { background: #4b5563; border-radius: 4px; border: 2px solid #111827; }
        .modal-scroll::-webkit-scrollbar-thumb:hover { background: #6b7280; }

        /* Responsive Header Fix */
        @media (max-width: 768px) {
          .header-container { flex-direction: column; gap: 0.25rem; }
        }

        [v-cloak] { display: none; }
    </style>
</head>
<body class="overflow-x-hidden pb-8 dark-mode">

<div class="bg-overlay"></div>

<div id="app" v-cloak>

    <!-- NEW NAVIGATION OVERLAY (From Page 2) -->
    <div id="navOverlay" class="fixed inset-0 z-[100] hidden bg-black/80 backdrop-blur-sm flex items-start justify-start p-4">
        <div class="absolute inset-0" onclick="toggleNav()"></div>
        
        <div class="bg-gray-200 border-4 border-gray-400 rounded-lg p-1 w-64 max-w-full shadow-2xl relative mt-16 ml-0 md:ml-4 transform transition-all duration-200 scale-95 opacity-0 flex flex-col gap-1" id="navBox">
            
            <div class="bg-gray-800 text-white p-2 mb-1 flex justify-between items-center border-b-2 border-black">
                <span class="retro-font text-xs">PAUSE MENU</span>
                <button onclick="toggleNav()" class="text-white hover:text-red-400">
                    <i data-feather="x" class="w-4 h-4"></i>
                </button>
            </div>

            <div class="flex flex-col gap-1" id="navLinksList">
                <!-- ACTIVATED GAME OF THE WEEK BUTTON -->
                <a href="/" class="nav-item flex items-center justify-between px-4 py-3 bg-red-600 border-2 border-black text-white cursor-pointer group transition-colors">
                    <span class="retro-font text-[10px]">GAME OF THE WEEK</span>
                    <i data-feather="crosshair" class="w-4 h-4 text-white"></i>
                </a>

                <a href="benchmarks" class="nav-item flex items-center justify-between px-4 py-3 bg-white border-2 border-transparent hover:border-black hover:bg-red-600 hover:text-white cursor-pointer group transition-colors">
                    <span class="retro-font text-[10px] group-hover:text-white">BENCHMARKS</span>
                    <i data-feather="cpu" class="w-4 h-4 text-gray-400 group-hover:text-white"></i>
                </a>

                <a href="handheld" class="nav-item flex items-center justify-between px-4 py-3 bg-white border-2 border-transparent hover:border-black hover:bg-red-600 hover:text-white cursor-pointer group transition-colors">
                    <span class="retro-font text-[10px] group-hover:text-white">HANDHELDS</span>
                    <i data-feather="smartphone" class="w-4 h-4 text-gray-400 group-hover:text-white"></i>
                </a>

                <a href="/" class="nav-item flex items-center justify-between px-4 py-3 bg-white border-2 border-transparent hover:border-black hover:bg-red-600 hover:text-white cursor-pointer group transition-colors">
                    <span class="retro-font text-[10px] group-hover:text-white">HOME</span>
                    <i data-feather="home" class="w-4 h-4 text-gray-400 group-hover:text-white"></i>
                </a>

                <a href="patrons" class="nav-item flex items-center justify-between px-4 py-3 bg-white border-2 border-transparent hover:border-black hover:bg-red-600 hover:text-white cursor-pointer group transition-colors">
                    <span class="retro-font text-[10px] group-hover:text-white">PATRONS</span>
                    <i data-feather="users" class="w-4 h-4 text-gray-400 group-hover:text-white"></i>
                </a>

                <a href="store" class="nav-item flex items-center justify-between px-4 py-3 bg-white border-2 border-transparent hover:border-black hover:bg-red-600 hover:text-white cursor-pointer group transition-colors">
                    <span class="retro-font text-[10px] group-hover:text-white">STORE</span>
                    <i data-feather="shopping-cart" class="w-4 h-4 text-gray-400 group-hover:text-white"></i>
                </a>
            </div>
            
            <div class="h-0.5 bg-gray-400 my-1"></div>

            <div id="darkModeToggle" class="nav-item flex items-center justify-between px-4 py-3 bg-white border-2 border-transparent hover:border-black hover:bg-gray-800 hover:text-white cursor-pointer group transition-colors">
                 <span class="retro-font text-[10px] group-hover:text-white">SWITCH THEME</span>
                 <i data-feather="sun" class="w-4 h-4 text-gray-400 group-hover:text-white" id="themeIcon"></i>
            </div>

            <div class="mt-1 text-center pb-1">
                <span class="text-[8px] retro-font text-gray-500">SELECT OPTION</span>
            </div>
        </div>
    </div>

    <!-- NEW HEADER (From Page 2) -->
    <header class="bg-gray-100 py-3 md:py-6 border-b-4 border-gray-400 shadow-md transition-colors duration-300 relative z-50">
      <div class="container mx-auto px-4 flex flex-col md:flex-row items-center justify-between header-container gap-4">
        
        <div class="flex items-center gap-4 w-full md:w-auto justify-between md:justify-start">
            
            <button id="navToggle" class="p-3 bg-gray-800 text-white hover:bg-gray-700 rounded pixel-btn border-2 border-black shadow-[2px_2px_0_0_rgba(0,0,0,0.2)] flex items-center justify-center gap-2 group">
                <i data-feather="menu" class="w-5 h-5 group-hover:scale-110 transition-transform"></i>
                <span class="retro-font text-[10px] hidden md:block">MENU</span>
            </button>

            <a href="/" class="flex items-center gap-3 md:gap-4">
                <img src="https://huggingface.co/spaces/IRyzoI/RyanRetro/resolve/main/images/ryan%20retro%20logo.png"
                     class="w-10 h-10 md:w-16 md:h-16 rounded-full border-4 border-gray-400 bg-gray-200" alt="Ryan Retro Logo">
                <div class="flex flex-col">
                    <h1 class="retro-font text-sm md:text-xl text-gray-800 leading-tight">RYAN RETRO</h1>
                    <span class="retro-font text-[8px] text-gray-500 uppercase">Game of the Week</span>
                </div>
            </a>
        </div>

        <div class="flex flex-col md:flex-row items-center gap-4 w-full md:w-auto order-3 md:order-3 mt-2 md:mt-0">
          
          <button id="openFlashDealsBtn" 
                  class="px-3 py-2 md:py-4 md:px-4 bg-yellow-400 hover:bg-yellow-300 text-black rounded pixel-btn retro-font text-[10px] md:text-xs uppercase border-2 border-black flex items-center justify-center gap-2 shadow-[2px_2px_0_0_rgba(0,0,0,0.2)] w-full md:w-auto hidden">
              <i data-feather="zap" class="w-4 h-4 md:w-5 md:h-5"></i>
              <span>DEALS</span>
          </button>

          <!-- FIND ME BLOCK - CHANGED BG TO GRAY-100 -->
          <div class="border-2 border-gray-400 rounded p-2 pt-4 relative group bg-gray-100 w-full md:w-auto flex justify-center">
            <span class="absolute -top-2.5 left-1/2 -translate-x-1/2 bg-gray-100 px-2 text-[8px] text-gray-500 retro-font uppercase tracking-widest rounded border border-gray-300 whitespace-nowrap z-10">
              FIND ME
            </span>
            <div class="flex items-center justify-center gap-2 md:gap-3 flex-wrap">
               <a href="https://www.youtube.com/@RyanRetro" target="_blank" class="w-8 h-8 md:w-10 md:h-10 bg-[#FF0000] text-white rounded pixel-btn border-2 border-black flex items-center justify-center hover:-translate-y-1 transition-transform shadow-[2px_2px_0_0_rgba(0,0,0,0.2)]" title="YouTube">
                 <i data-feather="youtube" class="w-4 h-4 md:w-5 md:h-5"></i>
               </a>
               <a href="https://www.instagram.com/ryanretroyoutube/" target="_blank" class="w-8 h-8 md:w-10 md:h-10 bg-gradient-to-tr from-yellow-400 via-red-500 to-purple-500 text-white rounded pixel-btn border-2 border-black flex items-center justify-center hover:-translate-y-1 transition-transform shadow-[2px_2px_0_0_rgba(0,0,0,0.2)]" title="Instagram">
                 <i data-feather="instagram" class="w-4 h-4 md:w-5 md:h-5"></i>
               </a>
               <a href="https://www.tiktok.com/@ryanretroyoutube" target="_blank" class="w-8 h-8 md:w-10 md:h-10 bg-black text-white rounded pixel-btn border-2 border-black flex items-center justify-center hover:-translate-y-1 transition-transform shadow-[2px_2px_0_0_rgba(0,0,0,0.2)]" title="TikTok">
                 <svg class="w-4 h-4 md:w-5 md:h-5 fill-current" viewBox="0 0 24 24"><path d="M19.59 6.69a4.83 4.83 0 0 1-3.77-4.25V2h-3.45v13.67a2.89 2.89 0 0 1-5.2 1.74 2.89 2.89 0 0 1 2.31-4.64 2.93 2.93 0 0 1 .88.13V9.4a6.84 6.84 0 0 0-1-.05A6.33 6.33 0 0 0 5 20.1a6.34 6.34 0 0 0 10.86-4.43v-7a8.16 8.16 0 0 0 4.77 1.52v-3.4a4.85 4.85 0 0 1-1-.1z"/></svg>
               </a>
               <a href="https://discord.gg/RAenS43UV9" target="_blank" class="w-8 h-8 md:w-10 md:h-10 bg-[#5865F2] text-white rounded pixel-btn border-2 border-black flex items-center justify-center hover:-translate-y-1 transition-transform shadow-[2px_2px_0_0_rgba(0,0,0,0.2)]" title="Discord">
                 <svg class="w-4 h-4 md:w-5 md:h-5 fill-current" viewBox="0 0 24 24"><path d="M20.317 4.37a19.791 19.791 0 0 0-4.885-1.515.074.074 0 0 0-.079.037 13.56 13.56 0 0 0-1.04 2.135 18.237 18.237 0 0 0-4.613 0 13.562 13.562 0 0 0-1.04-2.135.071.071 0 0 0-.079-.037A19.736 19.736 0 0 0 3.67 4.37a.069.069 0 0 0-.032.027C.533 9.046-.32 13.58.099 18.057a.082.082 0 0 0 .031.057 19.9 19.9 0 0 0 5.993 3.03.078.078 0 0 0 .084-.028 14.09 14.09 0 0 0 1.226-1.994.076.076 0 0 0-.041-.106 13.107 13.107 0 0 1-1.872-.892.077.077 0 0 1-.008-.128 10.2 10.2 0 0 0 .372-.292.074.074 0 0 1 .077-.01c3.928 1.793 8.18 1.793 12.062 0a.074.074 0 0 1 .078.01c.12.098.246.198.373.292a.077.077 0 0 1-.006.127 12.299 12.299 0 0 1-1.873.892.077.077 0 0 0-.041.107c.36.698.772 1.362 1.225 1.993a.076.076 0 0 0 .084.028 19.839 19.839 0 0 0 6.002-3.03.077.077 0 0 0 .032-.054c.5-5.177-.838-9.674-3.549-13.66a.061.061 0 0 0-.031-.03zM8.02 15.33c-1.183 0-2.157-1.085-2.157-2.419 0-1.333.956-2.419 2.157-2.419 1.21 0 2.176 1.096 2.157 2.42 0 1.333-.956 2.418-2.157 2.418zm7.975 0c-1.183 0-2.157-1.085-2.157-2.419 0-1.333.955-2.419 2.157-2.419 1.21 0 2.176 1.096 2.157 2.42 0 1.333-.946 2.418-2.157 2.418z"/></svg>
               </a>
               <a href="https://www.threads.com/@ryanretroyoutube" target="_blank" class="w-8 h-8 md:w-10 md:h-10 bg-black text-white rounded pixel-btn border-2 border-black flex items-center justify-center hover:-translate-y-1 transition-transform shadow-[2px_2px_0_0_rgba(0,0,0,0.2)]" title="Threads">
                 <svg class="w-4 h-4 md:w-5 md:h-5 fill-current" viewBox="0 0 24 24"><path d="M12.673 13.929C13.22 13.784 13.6 13.313 13.6 12.383C13.6 11.233 12.793 10.237 11.411 10.237C10.026 10.237 9.173 11.196 9.173 12.376C9.173 13.504 9.947 14.542 11.455 14.542C12.062 14.542 12.592 14.364 13.064 14.074L13.805 15.65C13.085 16.037 12.222 16.223 11.366 16.223C8.619 16.223 6.9 14.475 6.9 12.285C6.9 9.808 8.922 7.788 11.751 7.788C14.717 7.788 16.275 9.778 16.275 12.441C16.275 12.695 16.262 12.98 16.241 13.235H18.455C18.486 12.964 18.503 12.69 18.503 12.412C18.503 8.356 15.789 5.6 11.751 5.6C8.016 5.6 5.093 8.441 5.093 12.424C5.093 16.19 7.973 18.995 11.666 18.995C13.565 18.995 15.304 18.366 16.804 17.214L18.156 18.941C16.326 20.404 14.025 21.183 11.621 21.183C6.732 21.183 2.8 17.29 2.8 12.424C2.8 7.378 6.945 3.4 11.751 3.4C17.078 3.4 20.73 7.03 20.73 12.412C20.73 18.81 16.355 20.45 14.546 20.45C13.513 20.45 12.69 20.089 12.33 19.347H12.274L11.838 20.795H9.727L10.96 16.666C10.741 15.862 10.638 15.008 10.638 14.288H12.75C12.75 14.162 12.695 14.053 12.673 13.929Z"/></svg>
               </a>
            </div>
          </div>

          <!-- SUPPORT ME BLOCK - CHANGED BG TO GRAY-100 -->
          <div class="border-2 border-gray-400 rounded p-2 pt-4 relative group bg-gray-100 w-full md:w-auto flex justify-center mt-2 md:mt-0">
            <span class="absolute -top-2.5 left-1/2 -translate-x-1/2 bg-gray-100 px-2 text-[8px] text-gray-500 retro-font uppercase tracking-widest flex items-center gap-1 rounded border border-gray-300 whitespace-nowrap z-10">
              SUPPORT ME <i data-feather="heart" class="w-3 h-3 text-red-500 fill-red-500 animate-pulse"></i>
            </span>
            <a href="https://patreon.com/ryanretro" target="_blank" rel="noopener noreferrer"
               class="px-4 py-1.5 md:py-2 bg-[#f96854] hover:bg-[#ff8e7d] text-white rounded pixel-btn retro-font text-[10px] md:text-xs uppercase border-2 border-black flex items-center justify-center gap-2 w-full transition-transform hover:scale-105 shadow-[2px_2px_0_0_rgba(0,0,0,0.2)]">
              <svg class="w-4 h-4 md:w-5 md:h-5 fill-current" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                <path d="M0 .48v23.04h4.22V.48zm15.385 0c-4.764 0-8.641 3.88-8.641 8.65 0 4.755 3.877 8.623 8.641 8.623 4.75 0 8.615-3.868 8.615-8.623C24 4.36 20.136.48 15.385.48z"/>
              </svg>
              <span class="tracking-tight">JOIN PATREON</span>
            </a>
          </div>
        </div>
      </div>
    </header>


  <main class="container mx-auto px-4 py-4 md:py-6">
    
    <div class="text-center mb-6" data-aos="fade-down">
        <span class="bg-red-600 text-white px-3 py-1 rounded retro-font text-xs mb-4 inline-block pixel-border">
            SEASON 1 â€¢ WEEK 1
        </span>
        <h1 class="retro-font text-3xl md:text-5xl text-yellow-400 mt-2 text-shadow tracking-tight leading-normal">
            GAME OF THE WEEK
        </h1>
        <p class="text-gray-400 mt-4 max-w-2xl lg:max-w-5xl mx-auto text-sm md:text-base">
            Every week we play a retro classic together. Join the community, vote for the next title, and share your high scores!
        </p>
    </div>

    <div class="grid grid-cols-1 lg:grid-cols-12 gap-8 items-start relative">
        
        <!-- Last Week Section -->
        <div class="lg:col-span-3 order-2 lg:order-1 flex flex-col justify-start" data-aos="fade-right" data-aos-delay="100">
            <div class="bg-gray-800 p-6 rounded-lg pixel-border text-center opacity-70 hover:opacity-100 transition-opacity duration-300 border border-gray-700 hover:border-gray-500 h-full flex flex-col">
                <h3 class="retro-font text-[10px] text-gray-400 mb-4 tracking-widest">LAST WEEK</h3>
                
                <div class="relative w-3/4 mx-auto aspect-[3/4] mb-4 bg-black rounded overflow-hidden shadow-lg group">
                    <div class="absolute inset-0 bg-[url('https://upload.wikimedia.org/wikipedia/en/0/0a/TLOZ-_Minish_Cap_NA_Box_art.png')] bg-cover bg-center blur-sm opacity-50 scale-110"></div>
                    <img src="https://upload.wikimedia.org/wikipedia/en/0/0a/TLOZ-_Minish_Cap_NA_Box_art.png" 
                         alt="Last Week Game" class="relative z-10 w-full h-full object-contain p-2 hover:scale-105 transition-transform duration-300">
                    <div class="absolute inset-0 bg-black/20 group-hover:bg-transparent transition-colors z-20 pointer-events-none"></div>
                </div>
                
                <h4 class="retro-font text-sm text-white mb-1">Zelda: Minish Cap</h4>
                <p class="text-xs text-gray-500 mb-4">GBA â€¢ 2004</p>
                
                <div class="flip-container mt-auto" onclick="this.classList.toggle('flipped')">
                    <div class="flip-inner">
                        <div class="flip-front bg-gray-700 hover:bg-gray-600 border border-gray-600 text-gray-300 text-xs retro-font">
                            VIEW ARCHIVE
                        </div>
                        <div class="flip-back retro-font">
                            BUTTON UNDER CONSTRUCTION ðŸš§
                        </div>
                    </div>
                </div>

            </div>
        </div>

        <!-- Current Game Section -->
        <div class="lg:col-span-6 order-1 lg:order-2" data-aos="zoom-in">
            <div class="bg-gray-800 rounded-xl pixel-border overflow-hidden relative border-t-4 border-yellow-500 shadow-[0_0_50px_-12px_rgba(234,179,8,0.2)]">
                <div class="absolute inset-0 bg-[url('https://cdn.mobygames.com/covers/8962211-monster-boy-and-the-cursed-kingdom-nintendo-switch-front-cover.png')] bg-cover bg-center opacity-10 blur-md pointer-events-none"></div>
                <div class="absolute inset-0 bg-gradient-to-b from-gray-900/80 via-gray-900/95 to-gray-900 pointer-events-none"></div>

                <div class="p-6 md:p-8 relative z-10 flex flex-col md:flex-row lg:flex-col xl:flex-row items-center gap-6 md:gap-8 h-full">
                    
                    <div class="w-full md:w-1/2 lg:w-full xl:w-1/2 flex-shrink-0 flex flex-col items-center">
                        <!-- Image Wrapper -->
                        <a href="https://en.wikipedia.org/wiki/Monster_Boy_and_the_Cursed_Kingdom" target="_blank" class="block mx-auto w-48 md:w-64 lg:w-56 xl:w-64 shadow-2xl transform hover:scale-[1.02] transition-transform duration-500 cursor-pointer group">
                            <div class="pixel-border rounded-lg overflow-hidden scanlines bg-black relative">
                                <img src="https://cdn.mobygames.com/covers/8962211-monster-boy-and-the-cursed-kingdom-nintendo-switch-front-cover.png" 
                                     alt="Monster Boy and the Cursed Kingdom" class="w-full h-auto block">
                            </div>
                        </a>
                        
                        <!-- NEW HANDHELDS BUTTON -->
                        <button @click="showHandheldModal = true" class="mt-4 w-48 md:w-64 bg-indigo-600 hover:bg-indigo-500 text-white py-3 rounded pixel-btn retro-font text-[10px] md:text-xs uppercase border-2 border-black flex items-center justify-center gap-2 shadow-[4px_4px_0_0_rgba(0,0,0,0.5)] transition-all">
                            <i data-feather="smartphone" class="w-4 h-4"></i>
                            <span>HANDHELDS</span>
                        </button>
                    </div>

                    <div class="w-full md:w-1/2 lg:w-full xl:w-1/2 text-center md:text-left lg:text-center xl:text-left flex flex-col justify-center">
                        <h2 class="retro-font text-xl md:text-2xl text-white mb-4 leading-snug">
                            MONSTER BOY AND THE CURSED KINGDOM
                        </h2>
                        
                        <div class="flex flex-wrap justify-center md:justify-start lg:justify-center xl:justify-start gap-2 mb-6">
                            <span class="bg-blue-900/50 text-blue-200 border border-blue-800 px-3 py-1 rounded text-[10px] md:text-xs font-bold tracking-wide">MODERN RETRO</span>
                            <span class="bg-purple-900/50 text-purple-200 border border-purple-800 px-3 py-1 rounded text-[10px] md:text-xs font-bold tracking-wide">ACTION ADVENTURE</span>
                            <span class="bg-gray-800 text-gray-400 border border-gray-700 px-3 py-1 rounded text-[10px] md:text-xs font-bold tracking-wide">2018</span>
                        </div>

                        <div class="flex justify-center md:justify-start lg:justify-center xl:justify-start gap-4 mb-8 text-gray-400">
                            <div class="group relative cursor-pointer hover:text-red-500 transition-colors">
                                <i data-feather="tv" class="w-5 h-5"></i>
                                <span class="absolute -bottom-8 left-1/2 -translate-x-1/2 bg-black text-white text-[10px] px-2 py-1 rounded opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap z-20 pointer-events-none border border-gray-700">Nintendo Switch</span>
                            </div>
                            <div class="group relative cursor-pointer hover:text-blue-500 transition-colors">
                                <i data-feather="monitor" class="w-5 h-5"></i>
                                <span class="absolute -bottom-8 left-1/2 -translate-x-1/2 bg-black text-white text-[10px] px-2 py-1 rounded opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap z-20 pointer-events-none border border-gray-700">PS4 / PS5</span>
                            </div>
                            <div class="group relative cursor-pointer hover:text-green-500 transition-colors">
                                <i data-feather="box" class="w-5 h-5"></i>
                                <span class="absolute -bottom-8 left-1/2 -translate-x-1/2 bg-black text-white text-[10px] px-2 py-1 rounded opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap z-20 pointer-events-none border border-gray-700">Xbox</span>
                            </div>
                            <div class="group relative cursor-pointer hover:text-cyan-400 transition-colors">
                                <i data-feather="hard-drive" class="w-5 h-5"></i>
                                <span class="absolute -bottom-8 left-1/2 -translate-x-1/2 bg-black text-white text-[10px] px-2 py-1 rounded opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap z-20 pointer-events-none border border-gray-700">Windows PC</span>
                            </div>
                        </div>

                        <div class="bg-black/60 p-4 rounded-lg border border-gray-700 mb-0 backdrop-blur-sm w-full">
                            <div class="flex justify-between items-end mb-2">
                                <span class="text-[10px] font-bold text-red-400 uppercase tracking-widest flex items-center">
                                    <span class="w-2 h-2 bg-red-500 rounded-full animate-pulse mr-2"></span>
                                    Time Remaining
                                </span>
                                <span id="timer-text" class="retro-font text-yellow-400 text-xs tabular-nums">--:--:--</span>
                            </div>
                            
                            <div class="w-full bg-gray-900 h-6 rounded-full border border-gray-600 relative overflow-hidden">
                                <div id="progress-bar" class="h-full bg-gradient-to-r from-red-600 to-yellow-500 w-0 transition-all duration-1000 ease-linear relative">
                                    <div class="absolute inset-0 bg-[url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAECAYAAACp8Z5+AAAAIklEQVQIW2NkQAKrVq36zwjjgzjIHFBmlpYWIDphIkCVAAAddQj/6W1NQQAAAABJRU5ErkJggg==')] opacity-20"></div>
                                </div>
                            </div>
                            
                            <p class="text-[10px] text-gray-500 mt-2 text-right">Next game: Monday 00:00 GMT</p>
                        </div>
                        
                        <!-- JOIN THE CONVERSATION BUTTON START -->
                        <a href="https://ryan-retro.link/gotw" target="_blank" rel="noopener noreferrer" 
                           class="mt-4 group relative w-full block bg-[#5865F2] hover:bg-[#4752C4] text-white pixel-border rounded transition-all duration-200 hover:-translate-y-1 active:translate-y-0 shadow-[4px_4px_0_0_rgba(0,0,0,0.3)]">
                            <div class="p-3 flex items-center justify-between relative z-10">
                                <div class="flex items-center gap-3">
                                    <div class="bg-black/20 p-2 rounded group-hover:bg-black/30 transition-colors">
                                        <i data-feather="message-circle" class="w-5 h-5"></i>
                                    </div>
                                    <div class="flex flex-col items-start text-left">
                                        <span class="text-[8px] uppercase tracking-widest font-bold opacity-80 mb-0.5">Patrons Only</span>
                                        <span class="retro-font text-[10px] md:text-xs">JOIN THE CONVERSATION</span>
                                    </div>
                                </div>
                                <i data-feather="arrow-right" class="w-4 h-4 opacity-70 group-hover:translate-x-1 transition-transform"></i>
                            </div>
                        </a>
                        <!-- JOIN THE CONVERSATION BUTTON END -->

                    </div>
                </div>
            </div>
        </div>

        <!-- Vote Next Week Section -->
        <div class="lg:col-span-3 order-3 flex flex-col justify-start" data-aos="fade-left" data-aos-delay="200">
            <div class="bg-gray-800 p-6 rounded-lg pixel-border text-center border border-gray-700 flex flex-col h-full relative group/card">
                <h3 class="retro-font text-[10px] text-blue-400 mb-4 tracking-widest">VOTE: NEXT WEEK</h3>
                
                <div id="vote-carousel" class="flex-grow w-full relative mb-4">
    
    <div class="carousel-slide active" data-game="Golf Story">
        <a href="https://en.wikipedia.org/wiki/Golf_Story" target="_blank" rel="noopener noreferrer" 
           class="block w-3/4 mx-auto aspect-[3/4] bg-black rounded border-2 border-gray-700 overflow-hidden mb-3 relative shadow-lg cursor-pointer hover:border-blue-400 transition-colors">
            <img src="https://m.media-amazon.com/images/M/MV5BYjI2Y2JhZDMtMDRhZC00YjZmLWE2MTctYjFiY2M4MmVlNTQ3XkEyXkFqcGc@._V1_.jpg" class="w-full h-full object-cover opacity-80 group-hover/card:opacity-100 transition-opacity">
            <div class="absolute bottom-0 left-0 right-0 bg-black/70 p-2 text-[10px] text-white font-bold retro-font">GOLF STORY</div>
        </a>
        <p class="text-[10px] text-gray-400 mb-2">Sports/RPG â€¢ 2017</p>
        
        <div class="flex justify-center gap-3 text-gray-500">
            <div class="group/icon relative cursor-pointer hover:text-red-500 transition-colors">
                <i data-feather="tv" class="w-4 h-4"></i>
                <span class="absolute -top-8 left-1/2 -translate-x-1/2 bg-black text-white text-[9px] px-2 py-1 rounded opacity-0 group-hover/icon:opacity-100 transition-opacity whitespace-nowrap z-20 pointer-events-none border border-gray-700">Nintendo Switch</span>
            </div>
        </div>
    </div>

    <div class="carousel-slide" data-game="Megabonk">
        <a href="https://en.wikipedia.org/wiki/Megabonk" target="_blank" rel="noopener noreferrer" 
           class="block w-3/4 mx-auto aspect-[3/4] bg-black rounded border-2 border-gray-700 overflow-hidden mb-3 relative shadow-lg cursor-pointer hover:border-blue-400 transition-colors">
            <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRzG2QDyhRyjx7n2O4eYEh5-_QC__Id9eFe3EH4dta4lcvO7O8KILuEyDt0soUyvA2bYiwNJg&s=10" class="w-full h-full object-cover opacity-80 group-hover/card:opacity-100 transition-opacity">
            <div class="absolute bottom-0 left-0 right-0 bg-black/70 p-2 text-[10px] text-white font-bold retro-font">MEGABONK</div>
        </a>
        <p class="text-[10px] text-gray-400 mb-2">Roguelike â€¢ 2025</p>

        <div class="flex justify-center gap-3 text-gray-500">
            <div class="group/icon relative cursor-pointer hover:text-cyan-400 transition-colors">
                <i data-feather="hard-drive" class="w-4 h-4"></i>
                <span class="absolute -top-8 left-1/2 -translate-x-1/2 bg-black text-white text-[9px] px-2 py-1 rounded opacity-0 group-hover/icon:opacity-100 transition-opacity whitespace-nowrap z-20 pointer-events-none border border-gray-700">Windows, Linux</span>
            </div>
        </div>
    </div>

    <div class="carousel-slide" data-game="Gris">
        <a href="https://en.wikipedia.org/wiki/Gris" target="_blank" rel="noopener noreferrer" 
           class="block w-3/4 mx-auto aspect-[3/4] bg-black rounded border-2 border-gray-700 overflow-hidden mb-3 relative shadow-lg cursor-pointer hover:border-blue-400 transition-colors">
            <img src="https://image.api.playstation.com/vulcan/ap/rnd/202211/1801/PMjvy3y1p6gkPsBwCUuaFnfv.jpg" class="w-full h-full object-cover opacity-80 group-hover/card:opacity-100 transition-opacity">
            <div class="absolute bottom-0 left-0 right-0 bg-black/70 p-2 text-[10px] text-white font-bold retro-font">GRIS</div>
        </a>
        <p class="text-[10px] text-gray-400 mb-2">Platformer â€¢ 2018</p>

        <div class="flex justify-center gap-3 text-gray-500">
            <div class="group/icon relative cursor-pointer hover:text-cyan-400 transition-colors">
                <i data-feather="hard-drive" class="w-4 h-4"></i>
                <span class="absolute -top-8 left-1/2 -translate-x-1/2 bg-black text-white text-[9px] px-2 py-1 rounded opacity-0 group-hover/icon:opacity-100 transition-opacity whitespace-nowrap z-20 pointer-events-none border border-gray-700">Windows, macOS</span>
            </div>
            <div class="group/icon relative cursor-pointer hover:text-red-500 transition-colors">
                <i data-feather="tv" class="w-4 h-4"></i>
                <span class="absolute -top-8 left-1/2 -translate-x-1/2 bg-black text-white text-[9px] px-2 py-1 rounded opacity-0 group-hover/icon:opacity-100 transition-opacity whitespace-nowrap z-20 pointer-events-none border border-gray-700">Nintendo Switch</span>
            </div>
            <div class="group/icon relative cursor-pointer hover:text-blue-500 transition-colors">
                <i data-feather="monitor" class="w-4 h-4"></i>
                <span class="absolute -top-8 left-1/2 -translate-x-1/2 bg-black text-white text-[9px] px-2 py-1 rounded opacity-0 group-hover/icon:opacity-100 transition-opacity whitespace-nowrap z-20 pointer-events-none border border-gray-700">PS4 / PS5</span>
            </div>
             <div class="group/icon relative cursor-pointer hover:text-green-500 transition-colors">
                <i data-feather="box" class="w-4 h-4"></i>
                <span class="absolute -top-8 left-1/2 -translate-x-1/2 bg-black text-white text-[9px] px-2 py-1 rounded opacity-0 group-hover/icon:opacity-100 transition-opacity whitespace-nowrap z-20 pointer-events-none border border-gray-700">Xbox One / X / S</span>
            </div>
            <div class="group/icon relative cursor-pointer hover:text-purple-400 transition-colors">
                <i data-feather="smartphone" class="w-4 h-4"></i>
                <span class="absolute -top-8 left-1/2 -translate-x-1/2 bg-black text-white text-[9px] px-2 py-1 rounded opacity-0 group-hover/icon:opacity-100 transition-opacity whitespace-nowrap z-20 pointer-events-none border border-gray-700">iOS, Android</span>
            </div>
        </div>
    </div>

    <div class="carousel-slide" data-game="Mega Man X">
        <a href="https://en.wikipedia.org/wiki/Mega_Man_X_%28video_game%29" target="_blank" rel="noopener noreferrer" 
           class="block w-3/4 mx-auto aspect-[3/4] bg-black rounded border-2 border-gray-700 overflow-hidden mb-3 relative shadow-lg group cursor-pointer hover:border-blue-400 transition-colors">
            <img src="https://upload.wikimedia.org/wikipedia/en/f/f1/Mega_Man_X_Coverart.png" 
                 class="relative z-10 w-full h-full object-contain p-2 hover:scale-105 transition-transform duration-300">
            <div class="absolute bottom-0 left-0 right-0 bg-black/70 p-2 text-[10px] text-white font-bold retro-font z-20">MEGA MAN X</div>
        </a>
        <p class="text-[10px] text-gray-400 mb-2">Action â€¢ 1993</p>

        <div class="flex justify-center gap-3 text-gray-500">
            <div class="group/icon relative cursor-pointer hover:text-red-500 transition-colors">
                <i data-feather="tv" class="w-4 h-4"></i>
                <span class="absolute -top-8 left-1/2 -translate-x-1/2 bg-black text-white text-[9px] px-2 py-1 rounded opacity-0 group-hover/icon:opacity-100 transition-opacity whitespace-nowrap z-20 pointer-events-none border border-gray-700">Super NES</span>
            </div>
            <div class="group/icon relative cursor-pointer hover:text-cyan-400 transition-colors">
                <i data-feather="hard-drive" class="w-4 h-4"></i>
                <span class="absolute -top-8 left-1/2 -translate-x-1/2 bg-black text-white text-[9px] px-2 py-1 rounded opacity-0 group-hover/icon:opacity-100 transition-opacity whitespace-nowrap z-20 pointer-events-none border border-gray-700">MS-DOS, Windows</span>
            </div>
            <div class="group/icon relative cursor-pointer hover:text-purple-400 transition-colors">
                <i data-feather="smartphone" class="w-4 h-4"></i>
                <span class="absolute -top-8 left-1/2 -translate-x-1/2 bg-black text-white text-[9px] px-2 py-1 rounded opacity-0 group-hover/icon:opacity-100 transition-opacity whitespace-nowrap z-20 pointer-events-none border border-gray-700">Android, iOS</span>
            </div>
        </div>
    </div>

    <div class="carousel-slide" data-game="Sonic the Hedgehog 2">
        <a href="https://en.wikipedia.org/wiki/Sonic_the_Hedgehog_2" target="_blank" rel="noopener noreferrer" 
           class="block w-3/4 mx-auto aspect-[3/4] bg-black rounded border-2 border-gray-700 overflow-hidden mb-3 relative shadow-lg cursor-pointer hover:border-blue-400 transition-colors">
            <img src="https://upload.wikimedia.org/wikipedia/en/0/0c/Sonic_2_US_Cover.jpg" class="w-full h-full object-cover opacity-80 group-hover/card:opacity-100 transition-opacity">
            <div class="absolute bottom-0 left-0 right-0 bg-black/70 p-2 text-[10px] text-white font-bold retro-font">SONIC 2</div>
        </a>
        <p class="text-[10px] text-gray-400 mb-2">Platformer â€¢ 1992</p>

        <div class="flex justify-center gap-3 text-gray-500">
            <div class="group/icon relative cursor-pointer hover:text-gray-300 transition-colors">
                <i data-feather="tv" class="w-4 h-4"></i>
                <span class="absolute -top-8 left-1/2 -translate-x-1/2 bg-black text-white text-[9px] px-2 py-1 rounded opacity-0 group-hover/icon:opacity-100 transition-opacity whitespace-nowrap z-20 pointer-events-none border border-gray-700">Sega Genesis, Arcade</span>
            </div>
             <div class="group/icon relative cursor-pointer hover:text-red-500 transition-colors">
                <i data-feather="layers" class="w-4 h-4"></i>
                <span class="absolute -top-8 left-1/2 -translate-x-1/2 bg-black text-white text-[9px] px-2 py-1 rounded opacity-0 group-hover/icon:opacity-100 transition-opacity whitespace-nowrap z-20 pointer-events-none border border-gray-700">Switch, 3DS</span>
            </div>
            <div class="group/icon relative cursor-pointer hover:text-purple-400 transition-colors">
                <i data-feather="smartphone" class="w-4 h-4"></i>
                <span class="absolute -top-8 left-1/2 -translate-x-1/2 bg-black text-white text-[9px] px-2 py-1 rounded opacity-0 group-hover/icon:opacity-100 transition-opacity whitespace-nowrap z-20 pointer-events-none border border-gray-700">Android, iOS</span>
            </div>
            <div class="group/icon relative cursor-pointer hover:text-blue-400 transition-colors">
                <i data-feather="monitor" class="w-4 h-4"></i>
                <span class="absolute -top-8 left-1/2 -translate-x-1/2 bg-black text-white text-[9px] px-2 py-1 rounded opacity-0 group-hover/icon:opacity-100 transition-opacity whitespace-nowrap z-20 pointer-events-none border border-gray-700">Apple TV</span>
            </div>
        </div>
    </div>

    <button class="absolute top-1/2 left-0 -translate-y-1/2 -ml-2 bg-black/50 hover:bg-black text-white p-1 rounded-full border border-gray-600 z-10" onclick="window.changeSlide(-1)">
        <i data-feather="chevron-left" class="w-4 h-4"></i>
    </button>
    <button class="absolute top-1/2 right-0 -translate-y-1/2 -mr-2 bg-black/50 hover:bg-black text-white p-1 rounded-full border border-gray-600 z-10" onclick="window.changeSlide(1)">
        <i data-feather="chevron-right" class="w-4 h-4"></i>
    </button>

</div>

                <div class="bg-orange-900/20 border border-orange-500/30 p-4 rounded mt-auto">
                    <p class="text-[10px] text-orange-200 mb-3 leading-relaxed">
                        Patrons vote on next week's game!
                    </p>
                    <a href="https://patreon.com/ryanretro" target="_blank" 
                       class="block w-full bg-orange-600 hover:bg-orange-700 text-white px-4 py-2 rounded pixel-btn retro-font text-[10px] flex items-center justify-center">
                        <i data-feather="check-circle" class="mr-2 w-3 h-3"></i> VOTE FOR THIS
                    </a>
                </div>
            </div>
        </div>

    </div>

  </main>

  <!-- HANDHELDS POPUP MODAL -->
  <div v-if="showHandheldModal" class="fixed inset-0 z-50 flex items-center justify-center p-4" aria-modal="true" role="dialog">
    <!-- Backdrop -->
    <div class="absolute inset-0 bg-black/80 backdrop-blur-sm transition-opacity" @click="showHandheldModal = false"></div>
    
    <!-- Modal Content -->
    <div class="relative bg-gray-800 rounded-lg pixel-border border-4 border-gray-900 w-full max-w-4xl max-h-[90vh] overflow-y-auto z-10 shadow-2xl animate-fade-in-up modal-scroll">
        
        <!-- Header -->
        <div class="bg-gray-900 p-4 border-b-4 border-black flex justify-between items-center sticky top-0 z-20">
            <h2 class="retro-font text-yellow-400 text-sm md:text-lg flex items-center gap-2">
                <i data-feather="smartphone" class="w-5 h-5"></i>
                HANDHELD SELECTOR
            </h2>
            <button @click="showHandheldModal = false" class="text-gray-400 hover:text-white transition-colors">
                <i data-feather="x" class="w-6 h-6"></i>
            </button>
        </div>

        <div class="p-5 md:p-6 space-y-6">
            
            <!-- Section 1: Ryan's Recommended Handhelds -->
            <section>
                <div class="flex items-center gap-3 mb-4">
                    <div class="w-2 h-8 bg-blue-500 rounded"></div>
                    <h3 class="retro-font text-white text-xs md:text-sm">RYAN'S RECOMMENDED HANDHELDS</h3>
                </div>
                
                <div class="grid grid-cols-2 lg:grid-cols-4 gap-3 md:gap-4">
                    <div v-for="device in recommendedHandhelds" :key="device.name" class="bg-gray-900 p-4 rounded border border-gray-700 hover:border-blue-500 transition-colors group flex flex-col h-full">
                        <div class="bg-black/50 rounded p-2 mb-3 aspect-square flex items-center justify-center relative overflow-hidden border border-gray-800">
                            <img :src="device.heroImg" :alt="device.name" class="w-full h-auto object-contain max-h-full transition-transform group-hover:scale-110">
                        </div>
                        <h4 class="retro-font text-[9px] md:text-[10px] text-gray-300 text-center mb-1 leading-tight">{{ device.name }}</h4>
                        <div class="mt-auto pt-3">
                             <a :href="device.affiliateHref" target="_blank" class="block w-full bg-blue-600 hover:bg-blue-500 text-white text-[10px] py-2 px-2 rounded text-center retro-font transition-colors pixel-btn">
                                VIEW INFO
                            </a>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Section 2: Ryan's Choice -->
            <section class="bg-gradient-to-r from-gray-900 to-gray-800 rounded-xl p-1 pixel-border border-yellow-500/50">
                <div class="bg-black/40 p-6 md:p-8 rounded-lg">
                    <div class="flex flex-col md:flex-row items-center gap-8">
                        <div class="w-full md:w-1/2 flex justify-center order-2 md:order-1">
                            <div class="relative w-full max-w-sm">
                                <div class="absolute inset-0 bg-yellow-500/20 blur-xl rounded-full animate-pulse"></div>
                                <img :src="ryansChoice.heroImg" :alt="ryansChoice.name" class="relative z-10 w-full h-auto drop-shadow-2xl transform hover:scale-105 transition-transform duration-500">
                            </div>
                        </div>
                        
                        <div class="w-full md:w-1/2 text-center md:text-left order-1 md:order-2">
                            <div class="inline-block bg-yellow-500 text-black px-3 py-1 rounded retro-font text-[10px] mb-3 font-bold">
                                â˜… RYAN'S CHOICE
                            </div>
                            <h3 class="retro-font text-xl md:text-3xl text-white mb-2">{{ ryansChoice.name }}</h3>
                            <p class="text-gray-400 text-sm mb-6 leading-relaxed">
                                This is the handheld I'm personally using to play this week's game. It offers the perfect balance of performance and comfort for this title.
                            </p>
                            
                            <div class="flex flex-col sm:flex-row gap-3">
                                <a :href="ryansChoice.affiliateHref" target="_blank" class="flex-1 bg-yellow-500 hover:bg-yellow-400 text-black py-3 px-6 rounded retro-font text-xs flex items-center justify-center gap-2 pixel-btn">
                                    <i data-feather="shopping-bag" class="w-4 h-4"></i>
                                    GRAB YOURS
                                </a>
                                <a :href="ryansChoice.videosLinkHref" target="_blank" class="flex-1 bg-red-600 hover:bg-red-500 text-white py-3 px-6 rounded retro-font text-xs flex items-center justify-center gap-2 pixel-btn">
                                    <i data-feather="youtube" class="w-5 h-5 text-white"></i>
                                    WATCH VIDEOS
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

        </div>
    </div>
  </div>

  <footer class="bg-gray-100 py-8 mt-12 border-t-4 border-gray-300 transition-colors duration-300">
    <div class="container mx-auto text-center text-gray-500 text-xs retro-font">
      <div class="flex items-center justify-center mb-4">
          <img src="https://huggingface.co/spaces/IRyzoI/RyanRetro/resolve/main/images/ryan%20retro%20logo.png" 
               class="w-8 h-8 rounded-full mr-3 opacity-80">
          <span class="retro-font text-yellow-400 text-sm">RYAN RETRO</span>
      </div>
      <p class="mt-2">Â© 2025 Ryan Retro</p>
    </div>
  </footer>

</div>

<script>
    // --- NAVIGATION & DARK MODE LOGIC (Vanilla JS from Header File) ---
    const body = document.body;
    
    // Check Local Storage for Theme
    if (localStorage.getItem('theme') === 'light') {
        body.classList.remove('dark-mode');
        // Icon update handled by interval/watcher below if not Vue controlled
    } else {
        body.classList.add('dark-mode');
    }

    // Explicitly attach toggleNav to window so HTML onclicks work
    window.toggleNav = function() {
        const navOverlay = document.getElementById('navOverlay');
        const navBox = document.getElementById('navBox');
        
        if (!navOverlay || !navBox) return;

        const isHidden = navOverlay.classList.contains('hidden');
        if (isHidden) {
            navOverlay.classList.remove('hidden');
            setTimeout(() => {
                navBox.classList.remove('scale-95', 'opacity-0');
                navBox.classList.add('scale-100', 'opacity-100');
            }, 10);
        } else {
            navBox.classList.remove('scale-100', 'opacity-100');
            navBox.classList.add('scale-95', 'opacity-0');
            setTimeout(() => {
                navOverlay.classList.add('hidden');
            }, 200);
        }
    };
    
    // Vanilla Listener for Nav Toggle (Hamburger Button)
    document.addEventListener('DOMContentLoaded', () => {
        const navToggleBtn = document.getElementById('navToggle');
        if(navToggleBtn) {
            navToggleBtn.addEventListener('click', window.toggleNav);
        }
        
        // Dark Mode Toggle Logic
        const darkModeToggle = document.getElementById('darkModeToggle');
        const themeIcon = document.getElementById('themeIcon');
        
        // Set initial icon
        if(themeIcon) {
            themeIcon.setAttribute('data-feather', body.classList.contains('dark-mode') ? 'sun' : 'moon');
        }

        if(darkModeToggle) {
            darkModeToggle.addEventListener('click', () => {
                body.classList.toggle('dark-mode');
                const isDark = body.classList.contains('dark-mode');
                
                if (isDark) {
                    localStorage.setItem('theme', 'dark');
                    if(themeIcon) themeIcon.setAttribute('data-feather', 'sun');
                } else {
                    localStorage.setItem('theme', 'light');
                    if(themeIcon) themeIcon.setAttribute('data-feather', 'moon');
                }
                
                if(window.feather) feather.replace();
            });
        }
        
        // Initial feather replace for static elements
        if(window.feather) feather.replace();
    });


    // --- ORIGINAL APP LOGIC ---

    // Global Carousel Helpers (Vanilla JS Logic)
    let currentSlide = 0;
    
    // Explicitly attach to window so HTML onclicks work
    window.changeSlide = function(direction) {
        const slides = document.querySelectorAll('.carousel-slide');
        if(!slides.length) return;
        const totalSlides = slides.length;
        
        slides[currentSlide].classList.remove('active');
        currentSlide = (currentSlide + direction + totalSlides) % totalSlides;
        slides[currentSlide].classList.add('active');
        
        // Refresh icons in the new slide if needed
        setTimeout(() => { if(window.feather) feather.replace(); }, 50);
    }

    // Initialize Vue App
    const { createApp } = Vue;

    createApp({
        data() {
            return {
                showHandheldModal: false,
                // Data pulled from handhelds.html config
                recommendedHandhelds: [
                    {
                        name: "Retroid Pocket 5",
                        heroImg: "https://huggingface.co/spaces/IRyzoI/RyanRetro/resolve/main/images/rp5.png",
                        affiliateHref: "https://www.goretroid.com/products/retroid-pocket-5-handheld?sca_ref=7339476.fIz7oKv7uT"
                    },
                    {
                        name: "Retroid Pocket G2",
                        heroImg: "https://huggingface.co/spaces/IRyzoI/RyanRetro/resolve/main/images/device_retroid-pocket-g2-01.png",
                        affiliateHref: "https://www.goretroid.com/products/retroid-pocket-g2-handheld?sca_ref=7339476.fIz7oKv7uT"
                    },
                    {
                        name: "Ayaneo Konkr Pocket Fit",
                        heroImg: "https://huggingface.co/spaces/IRyzoI/RyanRetro/resolve/main/images/konkr-pocket-fit-3.jpg",
                        affiliateHref: "https://www.indiegogo.com/projects/pocket-fit-premier-hi-performance-android-handheld/x/38203815#/"
                    },
                    {
                        name: "Odin 3",
                        heroImg: "https://huggingface.co/spaces/IRyzoI/RyanRetro/resolve/main/images/odin3hero.png",
                        affiliateHref: "https://www.ayntec.com/products/ayn-odin-3?sca_ref=8254425.fM33Fgl5td"
                    }
                ],
                ryansChoice: {
                    name: "Odin 3",
                    heroImg: "https://huggingface.co/spaces/IRyzoI/RyanRetro/resolve/main/images/odin3hero.png",
                    affiliateHref: "https://www.ayntec.com/products/ayn-odin-3?sca_ref=8254425.fM33Fgl5td",
                    videosLinkHref: "https://www.youtube.com/@RyanRetro/search?query=odin 3"
                }
            }
        },
        watch: {
            showHandheldModal(newVal) {
                // Prevent scrolling when modal is open
                if (newVal) {
                    document.body.style.overflow = 'hidden';
                    // Re-init feather icons inside modal after next tick
                    this.$nextTick(() => {
                        if(window.feather) feather.replace();
                    });
                } else {
                    document.body.style.overflow = '';
                }
            }
        },
        mounted() {
            // Initialize Animation Library
            if(window.AOS) AOS.init({ duration: 800, once: true });
            
            // Initialize Feather Icons
            if(window.feather) feather.replace();

            // Initialize Custom Logic (Timer & Carousel Swipe)
            this.initTimer();
            this.initCarouselSwipe();
        },
        methods: {
            initTimer() {
                const timerText = document.getElementById('timer-text');
                const progressBar = document.getElementById('progress-bar');
                if(!timerText || !progressBar) return;

                const update = () => {
                    const now = new Date();
                    const prevMonday = new Date(now);
                    const day = prevMonday.getUTCDay(); 
                    const diff = prevMonday.getUTCDate() - day + (day === 0 ? -6 : 1); 
                    prevMonday.setUTCDate(diff);
                    prevMonday.setUTCHours(0,0,0,0);

                    if (prevMonday > now) prevMonday.setUTCDate(prevMonday.getUTCDate() - 7);
                    
                    const nextMonday = new Date(prevMonday);
                    nextMonday.setUTCDate(prevMonday.getUTCDate() + 7);

                    const totalDuration = nextMonday - prevMonday;
                    const timeElapsed = now - prevMonday;
                    const timeRemaining = nextMonday - now;

                    if (timeRemaining <= 0) {
                        timerText.innerText = "STARTING SOON...";
                        progressBar.style.width = "100%";
                        return;
                    }

                    const days = Math.floor(timeRemaining / (1000 * 60 * 60 * 24));
                    const hours = Math.floor((timeRemaining % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
                    const minutes = Math.floor((timeRemaining % (1000 * 60 * 60)) / (1000 * 60));
                    const seconds = Math.floor((timeRemaining % (1000 * 60)) / 1000);
                    
                    const pad = (n) => n < 10 ? '0'+n : n;
                    timerText.innerText = `${days}d ${pad(hours)}h ${pad(minutes)}m ${pad(seconds)}s`;
                    const pct = Math.min(100, Math.max(0, (timeElapsed / totalDuration) * 100));
                    progressBar.style.width = `${pct}%`;
                }
                update();
                setInterval(update, 1000); 
            },
            initCarouselSwipe() {
                const container = document.getElementById('vote-carousel');
                if(!container) return;
                let touchstartX = 0;
                let touchendX = 0;

                container.addEventListener('touchstart', e => {
                    touchstartX = e.changedTouches[0].screenX;
                });

                container.addEventListener('touchend', e => {
                    touchendX = e.changedTouches[0].screenX;
                    if (touchendX < touchstartX - 50) window.changeSlide(1);
                    if (touchendX > touchstartX + 50) window.changeSlide(-1);
                });
            }
        }
    }).mount('#app');
</script>
</body>
</html>
